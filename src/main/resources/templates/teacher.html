<!DOCTYPE html>
<html>

<head>
    <title>先生管理</title>
</head>

<body>
	<link th:href=@{/css/style.css} rel="stylesheet">
    <h2>先生情報登録</h2>
    
    <form class="form py-4 needs-validation h-adr" method="post" th:action="@{/teacher/}" th:object="${teacher}"
        onsubmit="hashPassword()">
        
                <div class="row mt-3">
            <label for="name" class="col-4 col-form-label text-end">名前</label>
            <div class="col-4">
                <input type="text" class="form-control" id="name" name="name" th:field="*{name}"
                    th:classappend="${#fields.hasErrors('name')} ? 'is-invalid' : 'is-valid'">
                <div th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="invalid-feedback">errors!</div>
            </div>
        </div>

        <div class="row mt-3">
            <label for="tid" class="col-4 col-form-label text-end">教員ID</label>
            <div class="col-4">
                <input type="text" class="form-control" id="tid" name="tid" th:field="*{tid}"
                    th:classappend="${#fields.hasErrors('tid')} ? 'is-invalid' : 'is-valid'">
                <div th:if="${#fields.hasErrors('tid')}" th:errors="*{tid}" class="invalid-feedback">errors!</div>
            </div>
        </div>


        <div class="row mt-3">
            <label for="password" class="col-4 col-form-label text-end">パスワード</label>
            <div class="col-4">
                <input type="password" class="form-control" id="password" name="password"
                    th:field="*{password}" th:classappend="${#fields.hasErrors('password')} ? 'is-invalid' : 'is-valid'">
                <div th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="invalid-feedback">errors!</div>
            </div>
        </div>

        <div class="row mt-3">
            <label for="schoolCd" class="col-4 col-form-label text-end">学校コード</label>
            <div class="col-4">
                <input type="text" class="form-control" id="schoolCd" name="schoolCd" th:field="*{schoolCd}"
                    th:classappend="${#fields.hasErrors('schoolCd')} ? 'is-invalid' : 'is-valid'">
                <div th:if="${#fields.hasErrors('schoolCd')}" th:errors="*{schoolCd}"
                    class="invalid-feedback">errors!</div>
            </div>
        </div>

        <div class="my-4">
            <input type="submit" class="btn btn-primary" value="送信">
            <footer class="my-5 pt-5 text-body-secondary text-center text-small">
            </footer>
        </div>
    </form>
    <a href="/">トップに戻る</a>

    <!-- Bcryptでパスワードをハッシュ化するJavaScriptの処理 -->
    <script th:inline="javascript">
        function hashPassword() {
            var passwordField = document.getElementById('password');
            var passwordValue = passwordField.value;
            // Bcryptでパスワードをハッシュ化する処理を追加する
            // 例: var hashedPassword = /* Bcryptでパスワードをハッシュ化する処理 */;
            // passwordField.value = hashedPassword;
        }
    </script>
    
</body>

</html>
